const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BlX9xaJF.js","./CZwgHzzz.js","./QxlODfZ-.js","./swiper-vue.Bs3d9ZnH.css","./entry.BFev9aFT.css","./C0XtWIz_.js","./ModalGold.C37du94w.css","./CLVJ9GL5.js","./D7UpdmVi.js","./index.4iqpu1qw.css","./DialogGoldOfferApply.CFxdhOoa.css"])))=>i.map(i=>d[i]);
import{H as ot,I as st,v as q,aF as Ae,L as ue,au as Ee,aG as Ge,am as Ne,aH as ke,N as xe,aI as Fe,P as oe,R as Ve,aw as He,aJ as Ue,aK as ze,ao as Ze,aL as lt,X as se,G as We,$ as rt,Q as je,aM as it,at as ut,aN as ct,aO as qe,aP as Ke,ap as Be,aQ as dt,D as mt,ak as Me,M as pt,al as ft,aR as vt,aS as _t,aT as ht,U as gt,an as yt,aU as bt,aV as Ct,aW as wt,aX as kt,aY as xt,aZ as Vt,ai as fe,ar as ve,p as Q,aA as Pt,a0 as ce,_ as Y,h as $t,n as Pe,a2 as Je,a as It,c as St,r as Bt,ad as de,m as me,a8 as Mt,a1 as $e,a_ as Rt,a$ as ae,l as _e,b0 as he,b1 as ge,f as Ot,t as Dt,ac as Lt,aD as Re,af as Oe,ae as Tt,b2 as At}from"./CZwgHzzz.js";import{b as A,o as Ie,c as le,X as Et,t as H,J as b,p as pe,i as re,l as C,r as Gt,D as Nt,as as Ft,u,L as Qe,w as Ht,n as Xe,a1 as Ut,k as ee,M as x,U as Z,V as G,O as g,a0 as U,y as j,N as B,P as W,ae as De,W as R,Q as L,H as ne,R as ye,F as Se,at as zt,S as Zt,j as Wt,x as jt}from"./QxlODfZ-.js";import{g as N}from"./D7UpdmVi.js";import{c as Le,b as qt}from"./wnpTqgkU.js";class ie{constructor(l){let{x:s,y:n,width:t,height:a}=l;this.x=s,this.y=n,this.width=t,this.height=a}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function Cn(e,l){return{x:{before:Math.max(0,l.left-e.left),after:Math.max(0,e.right-l.right)},y:{before:Math.max(0,l.top-e.top),after:Math.max(0,e.bottom-l.bottom)}}}function wn(e){return Array.isArray(e)?new ie({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function kn(e){const l=e.getBoundingClientRect(),s=getComputedStyle(e),n=s.transform;if(n){let t,a,o,i,r;if(n.startsWith("matrix3d("))t=n.slice(9,-1).split(/, /),a=+t[0],o=+t[5],i=+t[12],r=+t[13];else if(n.startsWith("matrix("))t=n.slice(7,-1).split(/, /),a=+t[0],o=+t[3],i=+t[4],r=+t[5];else return new ie(l);const v=s.transformOrigin,d=l.x-i-(1-a)*parseFloat(v),_=l.y-r-(1-o)*parseFloat(v.slice(v.indexOf(" ")+1)),c=a?l.width/a:e.offsetWidth+1,f=o?l.height/o:e.offsetHeight+1;return new ie({x:d,y:_,width:c,height:f})}else return new ie(l)}function xn(e,l,s){if(typeof e.animate>"u")return{finished:Promise.resolve()};let n;try{n=e.animate(l,s)}catch{return{finished:Promise.resolve()}}return typeof n.finished>"u"&&(n.finished=new Promise(t=>{n.onfinish=()=>{t(n)}})),n}const Vn="cubic-bezier(0.4, 0, 0.2, 1)";function Kt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const s=ot(),n=A();if(st){const t=new ResizeObserver(a=>{a.length&&(l==="content"?n.value=a[0].contentRect:n.value=a[0].target.getBoundingClientRect())});Ie(()=>{t.disconnect()}),le(()=>s.el,(a,o)=>{o&&(t.unobserve(o),n.value=void 0),a&&t.observe(a)},{flush:"post"})}return{resizeRef:s,contentRect:Et(n)}}const Ye="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.24264%205.75736L14.7279%2014.2426M6.24264%2014.2426L14.7279%205.75736'%20stroke='white'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",et=q({baseColor:String,divided:Boolean,...Ae(),...ue(),...Ee(),...Ge(),...Ne(),...ke(),...xe(),...Fe()},"VBtnGroup"),Te=oe()({name:"VBtnGroup",props:et(),setup(e,l){let{slots:s}=l;const{themeClasses:n}=Ve(e),{densityClasses:t}=He(e),{borderClasses:a}=Ue(e),{elevationClasses:o}=ze(e),{roundedClasses:i}=Ze(e);lt({VBtn:{height:"auto",baseColor:H(e,"baseColor"),color:H(e,"color"),density:H(e,"density"),flat:!0,variant:H(e,"variant")}}),se(()=>b(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},n.value,a.value,t.value,o.value,i.value,e.class],style:e.style},s))}}),Jt=q({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Qt=q({value:null,disabled:Boolean,selectedClass:String},"group-item");function Xt(e,l){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const n=We("useGroupItem");if(!n)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const t=rt();pe(Symbol.for(`${l.description}:id`),t);const a=re(l,null);if(!a){if(!s)return a;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${l.description}`)}const o=H(e,"value"),i=C(()=>!!(a.disabled.value||e.disabled));a.register({id:t,value:o,disabled:i},n),Ie(()=>{a.unregister(t)});const r=C(()=>a.isSelected(t)),v=C(()=>a.items.value[0].id===t),d=C(()=>a.items.value[a.items.value.length-1].id===t),_=C(()=>r.value&&[a.selectedClass.value,e.selectedClass]);return le(r,c=>{n.emit("group:selected",{value:c})},{flush:"sync"}),{id:t,isSelected:r,isFirst:v,isLast:d,toggle:()=>a.select(t,!r.value),select:c=>a.select(t,c),selectedClass:_,value:o,disabled:i,group:a}}function Yt(e,l){let s=!1;const n=Gt([]),t=je(e,"modelValue",[],c=>c==null?[]:tt(n,ut(c)),c=>{const f=ta(n,c);return e.multiple?f:f[0]}),a=We("useGroup");function o(c,f){const k=c,m=Symbol.for(`${l.description}:id`),y=ct(m,a==null?void 0:a.vnode).indexOf(f);u(k.value)==null&&(k.value=y,k.useIndexAsValue=!0),y>-1?n.splice(y,0,k):n.push(k)}function i(c){if(s)return;r();const f=n.findIndex(k=>k.id===c);n.splice(f,1)}function r(){const c=n.find(f=>!f.disabled);c&&e.mandatory==="force"&&!t.value.length&&(t.value=[c.id])}Nt(()=>{r()}),Ie(()=>{s=!0}),Ft(()=>{for(let c=0;c<n.length;c++)n[c].useIndexAsValue&&(n[c].value=c)});function v(c,f){const k=n.find(m=>m.id===c);if(!(f&&(k!=null&&k.disabled)))if(e.multiple){const m=t.value.slice(),p=m.findIndex(V=>V===c),y=~p;if(f=f??!y,y&&e.mandatory&&m.length<=1||!y&&e.max!=null&&m.length+1>e.max)return;p<0&&f?m.push(c):p>=0&&!f&&m.splice(p,1),t.value=m}else{const m=t.value.includes(c);if(e.mandatory&&m)return;t.value=f??!m?[c]:[]}}function d(c){if(e.multiple,t.value.length){const f=t.value[0],k=n.findIndex(y=>y.id===f);let m=(k+c)%n.length,p=n[m];for(;p.disabled&&m!==k;)m=(m+c)%n.length,p=n[m];if(p.disabled)return;t.value=[n[m].id]}else{const f=n.find(k=>!k.disabled);f&&(t.value=[f.id])}}const _={register:o,unregister:i,selected:t,select:v,disabled:H(e,"disabled"),prev:()=>d(n.length-1),next:()=>d(1),isSelected:c=>t.value.includes(c),selectedClass:C(()=>e.selectedClass),items:C(()=>n),getItemIndex:c=>ea(n,c)};return pe(l,_),_}function ea(e,l){const s=tt(e,[l]);return s.length?e.findIndex(n=>n.id===s[0]):-1}function tt(e,l){const s=[];return l.forEach(n=>{const t=e.find(o=>it(n,o.value)),a=e[n];(t==null?void 0:t.value)!=null?s.push(t.id):a!=null&&s.push(a.id)}),s}function ta(e,l){const s=[];return l.forEach(n=>{const t=e.findIndex(a=>a.id===n);if(~t){const a=e[t];s.push(a.value!=null?a.value:t)}}),s}const at=Symbol.for("vuetify:v-btn-toggle"),aa=q({...et(),...Jt()},"VBtnToggle");oe()({name:"VBtnToggle",props:aa(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:s}=l;const{isSelected:n,next:t,prev:a,select:o,selected:i}=Yt(e,at);return se(()=>{const r=Te.filterProps(e);return b(Te,Qe({class:["v-btn-toggle",e.class]},r,{style:e.style}),{default:()=>{var v;return[(v=s.default)==null?void 0:v.call(s,{isSelected:n,next:t,prev:a,select:o,selected:i})]}})}),{next:t,prev:a,select:o}}});const na=q({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...ue(),...qe(),...ke({tag:"div"}),...xe()},"VProgressCircular"),oa=oe()({name:"VProgressCircular",props:na(),setup(e,l){let{slots:s}=l;const n=20,t=2*Math.PI*n,a=A(),{themeClasses:o}=Ve(e),{sizeClasses:i,sizeStyles:r}=Ke(e),{textColorClasses:v,textColorStyles:d}=Be(H(e,"color")),{textColorClasses:_,textColorStyles:c}=Be(H(e,"bgColor")),{intersectionRef:f,isIntersecting:k}=dt(),{resizeRef:m,contentRect:p}=Kt(),y=C(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),V=C(()=>Number(e.width)),h=C(()=>r.value?Number(e.size):p.value?p.value.width:Math.max(V.value,32)),P=C(()=>n/(1-V.value/h.value)*2),I=C(()=>V.value/h.value*P.value),$=C(()=>mt((100-y.value)/100*t));return Ht(()=>{f.value=a.value,m.value=a.value}),se(()=>b(e.tag,{ref:a,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":k.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},o.value,i.value,v.value,e.class],style:[r.value,d.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:y.value},{default:()=>[b("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${P.value} ${P.value}`},[b("circle",{class:["v-progress-circular__underlay",_.value],style:c.value,fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":I.value,"stroke-dasharray":t,"stroke-dashoffset":0},null),b("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:n,"stroke-width":I.value,"stroke-dasharray":t,"stroke-dashoffset":$.value},null)]),s.default&&b("div",{class:"v-progress-circular__content"},[s.default({value:y.value})])]})),{}}});function sa(e,l){le(()=>{var s;return(s=e.isActive)==null?void 0:s.value},s=>{e.isLink.value&&s&&l&&Xe(()=>{l(!0)})},{immediate:!0})}const la=q({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:at},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Me,appendIcon:Me,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ae(),...ue(),...Ee(),...pt(),...Ge(),...Qt(),...ft(),...vt(),..._t(),...Ne(),...ht(),...qe(),...ke({tag:"button"}),...xe(),...Fe({variant:"elevated"})},"VBtn"),X=oe()({name:"VBtn",props:la(),emits:{"group:selected":e=>!0},setup(e,l){let{attrs:s,slots:n}=l;const{themeClasses:t}=Ve(e),{borderClasses:a}=Ue(e),{densityClasses:o}=He(e),{dimensionStyles:i}=gt(e),{elevationClasses:r}=ze(e),{loaderClasses:v}=yt(e),{locationStyles:d}=bt(e),{positionClasses:_}=Ct(e),{roundedClasses:c}=Ze(e),{sizeClasses:f,sizeStyles:k}=Ke(e),m=Xt(e,e.symbol,!1),p=wt(e,s),y=C(()=>{var S;return e.active!==void 0?e.active:p.isLink.value?(S=p.isActive)==null?void 0:S.value:m==null?void 0:m.isSelected.value}),V=C(()=>y.value?e.activeColor??e.color:e.color),h=C(()=>{var D,F;return{color:(m==null?void 0:m.isSelected.value)&&(!p.isLink.value||((D=p.isActive)==null?void 0:D.value))||!m||((F=p.isActive)==null?void 0:F.value)?V.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:P,colorStyles:I,variantClasses:$}=kt(h),w=C(()=>(m==null?void 0:m.disabled.value)||e.disabled),M=C(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),T=C(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function E(S){var D;w.value||p.isLink.value&&(S.metaKey||S.ctrlKey||S.shiftKey||S.button!==0||s.target==="_blank")||((D=p.navigate)==null||D.call(p,S),m==null||m.toggle())}return sa(p,m==null?void 0:m.select),se(()=>{const S=p.isLink.value?"a":e.tag,D=!!(e.prependIcon||n.prepend),F=!!(e.appendIcon||n.append),te=!!(e.icon&&e.icon!==!0);return Ut(b(S,Qe({type:S==="a"?void 0:"button",class:["v-btn",m==null?void 0:m.selectedClass.value,{"v-btn--active":y.value,"v-btn--block":e.block,"v-btn--disabled":w.value,"v-btn--elevated":M.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},t.value,a.value,P.value,o.value,r.value,v.value,_.value,c.value,f.value,$.value,e.class],style:[I.value,i.value,d.value,k.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:w.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:E,value:T.value},p.linkProps),{default:()=>{var O;return[Vt(!0,"v-btn"),!e.icon&&D&&b("span",{key:"prepend",class:"v-btn__prepend"},[n.prepend?b(ve,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},n.prepend):b(fe,{key:"prepend-icon",icon:e.prependIcon},null)]),b("span",{class:"v-btn__content","data-no-activator":""},[!n.default&&te?b(fe,{key:"content-icon",icon:e.icon},null):b(ve,{key:"content-defaults",disabled:!te,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var z;return[((z=n.default)==null?void 0:z.call(n))??e.text]}})]),!e.icon&&F&&b("span",{key:"append",class:"v-btn__append"},[n.append?b(ve,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},n.append):b(fe,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&b("span",{key:"loader",class:"v-btn__loader"},[((O=n.loader)==null?void 0:O.call(n))??b(oa,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[xt,!w.value&&e.ripple,"",{center:!!e.icon}]])}),{group:m}}}),ra={class:"clear-modal"},ia={class:"clear-modal__buttons"},ua=ee({__name:"CartClear",props:{isOpened:{type:Boolean,required:!0}},emits:["closeModal"],setup(e,{emit:l}){const s=e,n=l,{cartProducts:t}=Q();function a(){t.value={},localStorage.setItem(Pt,""),n("closeModal")}const o=A(s.isOpened);return le(()=>s.isOpened,()=>{o.value=s.isOpened}),(i,r)=>{const v=ce;return x(),Z(v,{class:"coins-modal",modelValue:u(o),"onUpdate:modelValue":r[2]||(r[2]=d=>j(o)?o.value=d:null)},{default:G(()=>[g("div",ra,[g("img",{class:"p-2 w-[32px] h-[32px] absolute right-4 top-4 md:right-6 md:top-6 bg-[#38393D] rounded-full cursor-pointer",onClick:r[0]||(r[0]=d=>i.$emit("closeModal")),src:Ye,alt:"Закрыть"}),r[5]||(r[5]=g("p",{class:"clear-modal__title"},"Удаление товаров",-1)),r[6]||(r[6]=g("p",{class:"clear-modal__text"},"Удалить все товары в корзине? Отменить данное действие будет невозможно.",-1)),g("div",ia,[b(X,{class:"clear-modal__button",onClick:a},{default:G(()=>r[3]||(r[3]=[U("Удалить")])),_:1}),b(X,{class:"clear-modal__button clear-modal__button--gray",onClick:r[1]||(r[1]=d=>i.$emit("closeModal"))},{default:G(()=>r[4]||(r[4]=[U("Отмена")])),_:1})])])]),_:1},8,["modelValue"])}}}),Pn=Y(ua,[["__scopeId","data-v-6222ba47"]]),ca={class:"amount__value"},da=ee({__name:"Amount",props:{modelValue:{default:0},min:{default:0},max:{default:100},toCart:{type:Boolean,default:!1},large:{type:Boolean},medium:{type:Boolean},small:{type:Boolean},xl:{type:Boolean},deleteProduct:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:l}){const s=e,n=l,t=$t(),a=Pe(s,"modelValue",n);Je();function o(i){a.value!==void 0&&(a.value<=s.min&&i==="decrease"&&t.path==="/cart"||a.value>=s.max&&i==="increase"||(i==="increase"?a.value++:a.value--))}return(i,r)=>{const v=It,d=St;return x(),B(ne,null,[g("div",{class:W(["amount",{"w-full h-[56px]":i.xl,"w-full h-[44px]":i.large,"w-full h-[40px]":i.medium,"h-[32px]":i.small}])},[g("button",{class:W(["amount__button",{disabled:u(a)===1&&(u(t).path==="/cart"||i.deleteProduct),"w-[56px] h-[56px]":i.xl,"w-[44px] h-[44px]":i.large,"w-[40px] h-[40px]":i.medium,"w-[32px] h-[32px]":i.small}]),onClick:r[0]||(r[0]=De(_=>o("decrease"),["prevent","stop"]))},[b(v,{name:"minus",class:"amount__icon"})],2),g("span",ca,R(u(a)),1),g("button",{class:W(["amount__button",{"w-[56px] h-[56px]":i.xl,"w-[44px] h-[44px]":i.large,"w-[40px] h-[40px]":i.medium,"w-[32px] h-[32px]":i.small}]),onClick:r[1]||(r[1]=De(_=>o("increase"),["prevent","stop"]))},[b(v,{name:"plus",class:"amount__icon"})],2)],2),i.toCart?(x(),Z(d,{key:0,to:"/cart",class:W(["amount__to-cart",{"min-w-[56px] w-[56px] h-[56px]":i.xl,"min-w-[44px] w-[44px] h-[44px]":i.large,"min-w-[40px] w-[40px] h-[40px]":i.medium,"min-w-[32px] w-[32px] h-[32px]":i.small}])},{default:G(()=>r[2]||(r[2]=[g("svg",{width:"14",height:"16",viewBox:"0 0 14 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[g("path",{d:"M2.5 11.8889C2.89782 11.8889 3.27936 12.0528 3.56066 12.3445C3.84196 12.6362 4 13.0319 4 13.4444C4 13.857 3.84196 14.2527 3.56066 14.5444C3.27936 14.8361 2.89782 15 2.5 15C2.10218 15 1.72064 14.8361 1.43934 14.5444C1.15804 14.2527 1 13.857 1 13.4444C1 13.0319 1.15804 12.6362 1.43934 12.3445C1.72064 12.0528 2.10218 11.8889 2.5 11.8889ZM2.5 11.8889H10.75M2.5 11.8889V1H1M10.75 11.8889C11.1478 11.8889 11.5294 12.0528 11.8107 12.3445C12.092 12.6362 12.25 13.0319 12.25 13.4444C12.25 13.857 12.092 14.2527 11.8107 14.5444C11.5294 14.8361 11.1478 15 10.75 15C10.3522 15 9.97064 14.8361 9.68934 14.5444C9.40804 14.2527 9.25 13.857 9.25 13.4444C9.25 13.0319 9.40804 12.6362 9.68934 12.3445C9.97064 12.0528 10.3522 11.8889 10.75 11.8889ZM2.5 2.55556L13 3.33333L12.25 8.77778H2.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),_:1},8,["class"])):L("",!0)],64)}}}),ma=Y(da,[["__scopeId","data-v-c75dd905"]]),pa={class:"flex gap-2 product-action"},fa={class:"clear-modal"},va={class:"clear-modal__buttons"},_a=ee({__name:"ProductCardActions",setup(e){const l=re("cartProduct"),{cartProducts:s}=Q();async function n(){t.value=!1,await Xe(()=>{delete s.value[l.id]})}const t=A(!1);return(a,o)=>{const i=ce;return x(),B("div",pa,[g("button",{onClick:o[0]||(o[0]=r=>t.value=!0),class:"delete-button mr-4"},o[4]||(o[4]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[g("path",{d:"M6 21L5.00221 21.0665C5.03723 21.5918 5.47354 22 6 22V21ZM18 21V22C18.5265 22 18.9628 21.5918 18.9978 21.0665L18 21ZM3 5C2.44772 5 2 5.44772 2 6C2 6.55228 2.44772 7 3 7V5ZM21 7C21.5523 7 22 6.55228 22 6C22 5.44772 21.5523 5 21 5V7ZM11 11C11 10.4477 10.5523 10 10 10C9.44772 10 9 10.4477 9 11H11ZM9 16C9 16.5523 9.44772 17 10 17C10.5523 17 11 16.5523 11 16H9ZM15 11C15 10.4477 14.5523 10 14 10C13.4477 10 13 10.4477 13 11H15ZM13 16C13 16.5523 13.4477 17 14 17C14.5523 17 15 16.5523 15 16H13ZM14.9056 6.24926C15.0432 6.78411 15.5884 7.1061 16.1233 6.96844C16.6581 6.83078 16.9801 6.28559 16.8424 5.75074L14.9056 6.24926ZM4.00221 6.06652L5.00221 21.0665L6.99779 20.9335L5.99779 5.93348L4.00221 6.06652ZM6 22H18V20H6V22ZM18.9978 21.0665L19.9978 6.06652L18.0022 5.93348L17.0022 20.9335L18.9978 21.0665ZM19 5H5V7H19V5ZM3 7H5V5H3V7ZM19 7H21V5H19V7ZM9 11V16H11V11H9ZM13 11V16H15V11H13ZM12 4C13.3965 4 14.5725 4.95512 14.9056 6.24926L16.8424 5.75074C16.2874 3.59442 14.3312 2 12 2V4ZM9.09447 6.24926C9.42756 4.95512 10.6035 4 12 4V2C9.66885 2 7.7126 3.59442 7.1576 5.75074L9.09447 6.24926Z",fill:"white"})],-1)])),b(i,{class:"coins-modal",modelValue:u(t),"onUpdate:modelValue":o[3]||(o[3]=r=>j(t)?t.value=r:null)},{default:G(()=>[g("div",fa,[g("img",{class:"p-2 w-[32px] h-[32px] absolute right-4 top-4 md:right-6 md:top-6 bg-[#38393D] rounded-full cursor-pointer",onClick:o[1]||(o[1]=r=>t.value=!1),src:Ye,alt:"Закрыть"}),o[7]||(o[7]=g("p",{class:"clear-modal__title"},"Удаление товара",-1)),o[8]||(o[8]=g("p",{class:"clear-modal__text"},"Удалить выбранный товар? Отменить данное действие будет невозможно.",-1)),g("div",va,[b(X,{class:"clear-modal__button",onClick:n},{default:G(()=>o[5]||(o[5]=[U("Удалить")])),_:1}),b(X,{class:"clear-modal__button clear-modal__button--gray",onClick:o[2]||(o[2]=r=>t.value=!1)},{default:G(()=>o[6]||(o[6]=[U("Отмена")])),_:1})])])]),_:1},8,["modelValue"])])}}}),be=Y(_a,[["__scopeId","data-v-40788c3d"]]),ha=Se(()=>$e(()=>import("./BlX9xaJF.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(e=>e.default||e)),ga={class:"payment-method"},ya={class:"payment-method_switch"},ba={key:0,class:"payment-method_tab-coins--discount"},Ca={__name:"PaymentMethod",props:{modelValue:{type:String,default:"card"},custom:Boolean,hideGoldModal:Boolean,product:Object},emits:["update:modelValue"],setup(e,{emit:l}){const s=e,t=Pe(s,"modelValue",l),a=Bt();de();const o=C(()=>s.custom?t.value==="card":!a.calculate.pay_with_gold),i=async v=>{t.value=v,v==="coins"?a.calculate.pay_with_gold=!0:a.calculate.pay_with_gold=!1},r=A(!1);return(v,d)=>{const _=me,c=Mt,f=ha,k=ce;return x(),B(ne,null,[g("div",ga,[g("div",ya,[g("div",{class:W(["payment-method_sw-backdrop",{"payment-method_sw-backdrop-second":u(o)}])},null,2),g("div",{onClick:d[0]||(d[0]=m=>i("coins")),class:W(["payment-method_tab payment-method_tab-coins",{"payment-method_tab--active":!u(o)}])},[ye(v.$slots,"paymentCoins",{},()=>[b(_,{class:"h-4 w-4 mr-1"}),d[4]||(d[4]=g("span",null,"Купикоинами",-1)),u(a).calculate.gold_discount?(x(),B("div",ba," -"+R("10"))):L("",!0)],!0)],2),g("div",{class:W(["payment-method_tab",{"payment-method_tab--active":u(o)}]),onClick:d[1]||(d[1]=m=>i("card"))},[ye(v.$slots,"paymentCard",{},()=>[d[5]||(d[5]=g("span",{class:"price-product"},"Картой",-1)),b(c,{class:"payment-method__img--plastic",src:"/assets/other/payment-cards-color.webp",alt:""})],!0)],2)]),ye(v.$slots,"default",{},void 0,!0)]),e.hideGoldModal?L("",!0):(x(),Z(k,{key:0,class:"coins-modal",modelValue:u(r),"onUpdate:modelValue":d[3]||(d[3]=m=>j(r)?r.value=m:null)},{default:G(()=>[b(f,{onCloseDialog:d[2]||(d[2]=m=>r.value=!1)})]),_:1},8,["modelValue"]))],64)}}},wa=Y(Ca,[["__scopeId","data-v-c9753bad"]]),ka=Rt("cart",()=>{const e=A(null),l=A(""),s=A(null),n=A([]),t=Q().cartProducts,a=A(!1),o=A({total_amount:0,total_amount_in_gold:0,total_cashback:0,total_bronze:0,total_silver:0,total_gold:0,products_cart:[],products_count:Q().productCounter.value,apply_products:[],apply_discounts:[]}),i=p=>{n.value=p},r=async p=>{const y=ae("access_token")&&JSON.parse(ae("access_token")||"")||"",V=localStorage.getItem("SiteRole")==="context-2"?"context":localStorage.getItem("SiteRole"),h=localStorage.getItem("digiseller"),P=Intl.DateTimeFormat().resolvedOptions().timeZone;try{const I=()=>{const w=[];for(let M in p)w.push({id:M});return w},$=await $fetch("https://steam.kupikod.com/backend/api//cart",{method:"POST",body:{...l.value?{account:l.value}:{},orders:I().map(w=>{var M,T,E;return{quantity:((M=n.value.find(S=>S.id===w.id))==null?void 0:M.count)||0,product_id:w.id,promocode:((T=n.value.find(S=>S.id===w.id))==null?void 0:T.promocode)||null,pay_with_gold:((E=n.value.find(S=>S.id===w.id))==null?void 0:E.payment)==="coins"}})},credentials:"include",headers:{Authorization:`Bearer ${y}`,...V&&{version:V},...h&&{digiseller:h},...Intl&&P?{timezone:P}:{}}});e.value=$.data.uuid,localStorage.setItem("uuid",$.data.uuid)}catch(I){console.warn("createCart /cart",I)}},v=async()=>{try{const p=ae("access_token")&&JSON.parse(ae("access_token")||"")||"";if(!localStorage.getItem("uuid")&&(await r(t.value),!localStorage.getItem("uuid")))return;e.value=localStorage.getItem("uuid");const y=localStorage.getItem("SiteRole")==="context-2"?"context":localStorage.getItem("SiteRole"),V=localStorage.getItem("digiseller"),h=Intl.DateTimeFormat().resolvedOptions().timeZone,P=_e(he,{}).value,I=xa(P,n);await $fetch(`https://steam.kupikod.com/backend/api/cart/${e.value}`,{method:"PATCH",body:{...l.value?{account:l.value}:{},orders:I},headers:{Authorization:`Bearer ${p}`,...y&&{version:y},...V&&{digiseller:V},...Intl&&h?{timezone:h}:{}}}),n.value.forEach($=>{P[$.id]&&($.count=P[$.id].count,$.promocode=P[$.id].promocode)})}catch(p){console.error("updateCart",p)}},d=async p=>{try{await ge.post(`https://steam.kupikod.com/backend/api/cart/order/${e.value}/${p}`)}catch(y){console.warn("creatingProductOrder",y)}},_=async()=>(await ge.get(`https://steam.kupikod.com/backend/api/cart/orders?uuid=${e.value}`)).data.data,c=async p=>{try{const y=await ge.get(`https://steam.kupikod.com/backend/api/cart/${p}`);e.value=y.data.data.uuid}catch(y){console.log(y)}},f=async p=>{var h;const y=_e(he,{}).value;let V=[];for(let P in y)V.push({product_id:P,quantity:y[P].count,promocode:p??((h=y[P])==null?void 0:h.promocode)??null});if(V.length){const{data:P}=await Le(V);o.value={...P.data,products_count:u(n).length},p&&m(p),o.value.products_cart=u(n).map(I=>{const $=o.value.apply_discounts.find(O=>Number(O.product_id)===I.id),w=Number(I.price_in_gold)*I.count,M=Number(I.price)*I.count;let T=0;$&&(T=$.discount);const E=w-T,S=M-T,D=E<0?"0":E.toFixed(0),F=S<0?"0":S.toFixed(0);return{...I,price_discount:F,old_price_discount:I.old_price?I.old_price*I.count:0,price_in_gold_discount:D}}),i(o.value.products_cart)}},k=async(p=null)=>{const y=u(n).filter(Boolean).map(V=>{var h;return{product_id:V.id,quantity:V.count,promocode:p||((h=n.value[V.id])==null?void 0:h.promocode)||null}});if(y.length){const{data:V}=await Le(y);o.value={...V.data,products_count:u(n).length}}p&&m(p)},m=async p=>{const y=_e(he,{}).value;o.value.apply_discounts.forEach(({product_id:V,discount:h})=>{y[V]&&(!y[V].discount||h>y[V].discount)&&(y[V].promocode=p,y[V].discount=h)}),await f()};return{uuid:e,email:l,cartPaymentFormValid:s,productsCart:n,setProductsCart:i,createCart:r,getCartInfo:c,getCompletedOrders:_,creatingProductOrder:d,updateCart:v,cartSummary:o,setCartSummary:f,setCartSummaryPromo:k,isPaymentDisabled:a}});function xa(e,l){const s=de();return Object.entries(e).map(([n,t])=>{const a=l.value.find(({id:i})=>+n==+i),o=t.payment==="coins"&&s.isAuth&&s.gold_balance.value>=a.price_in_gold;return{product_id:n,quantity:t.count,promocode:t.promocode||null,pay_with_gold:o}})}const Va={class:"cart-payment-method"},Pa=ee({__name:"ProductCardPaymentToggle",props:{modelValue:{default:"card"},product:{}},emits:["update:modelValue"],setup(e,{emit:l}){const s=e,n=l,{$windowWidth:t}=Je(),a=C(()=>t.value<=768);re("cartProduct");const o=Pe(s,"modelValue",n),i=de();C(()=>i.gold_balance.value),C(()=>i.isAuth);const r=A(o.value),v=C({set:_=>{r.value=_,d(_)},get:()=>r.value});function d(_){o.value=_}return(_,c)=>{const f=me,k=wa;return x(),B("div",Va,[b(k,{product:_.product,modelValue:u(v),"onUpdate:modelValue":c[0]||(c[0]=m=>j(v)?v.value=m:null),custom:""},zt({_:2},[u(a)?void 0:{name:"paymentCoins",fn:G(()=>[b(f,{class:"h-6 w-6"})]),key:"0"},u(a)?void 0:{name:"paymentCard",fn:G(()=>[c[1]||(c[1]=g("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"16",viewBox:"0 0 20 16",fill:"none"},[g("path",{d:"M1 6H19M5 11H5.01M9 11H11M1 4C1 3.20435 1.31607 2.44129 1.87868 1.87868C2.44129 1.31607 3.20435 1 4 1H16C16.7956 1 17.5587 1.31607 18.1213 1.87868C18.6839 2.44129 19 3.20435 19 4V12C19 12.7956 18.6839 13.5587 18.1213 14.1213C17.5587 14.6839 16.7956 15 16 15H4C3.20435 15 2.44129 14.6839 1.87868 14.1213C1.31607 13.5587 1 12.7956 1 12V4Z",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1))]),key:"1"}]),1032,["product","modelValue"])])}}}),$a=Se(()=>$e(()=>import("./BlX9xaJF.js"),__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url).then(e=>e.default||e)),Ia=Se(()=>$e(()=>import("./CLVJ9GL5.js"),__vite__mapDeps([7,1,2,3,4,8,9,10]),import.meta.url).then(e=>e.default||e)),Sa={class:"flex flex-col align-center"},Ba={key:0,class:"warning--coins mb-2"},Ma={key:0},Ra={key:1},Oa={key:2,class:"ml-2 opacity-50 line-through"},Da={key:1,target:"_blank",href:"https://steam.kupikod.com/bonus-program",class:"mt-2 font-medium text-xs cursor-pointer underline"},La=ee({__name:"ProductCardBuy",props:{paymentMethod:{},product:{}},setup(e){const l=de(),s=re("cartProduct"),{cartProducts:n}=Q(),t=ka(),a=Re("cart_touch_buy"),o=Re("cart_update_orders"),i=A(!1),r=e,v=A(!1),d=A(!1),_=C(()=>r.product.price_in_gold?N(Math.round(Number(r.product.price_in_gold_discount))):null),c=C(()=>_.value?_.value:N(Math.round(r.product.price))),f=C(()=>r.product.old_price_discount?N(Math.round(Number(r.product.old_price_discount))):null),{isEnoughCoins:k,missingCoins:m,isPaymentCoins:p}=V(),y=Oe();Ot();function V(){const $=C(()=>l.gold_balance.value),w=C(()=>{var S;return(S=r.product)==null?void 0:S.price_in_gold_discount}),M=C(()=>r.paymentMethod==="coins"),T=C(()=>$.value-Number(w.value)>=0),E=C(()=>Math.floor((Number(w.value)-$.value)*100)/100);return{isEnoughCoins:T,missingCoins:E,isPaymentCoins:M}}const h=Oe(),P=()=>{const $=window.location.href;h(`${l.id_link}/auth?gold=${Tt($)}`)};async function I($=!1){var w,M,T,E,S,D;if(!l.user.value){P();return}if(p.value&&!k.value){v.value=!0;return}if(!t.cartPaymentFormValid){a.emit();return}if(p.value&&!$){p.value&&k.value&&(d.value=!0);return}try{let F=function(K){return K.replace(/^https?:\/\//,"").replace(/\?.*$/,"").replace(/\/$/,"")};i.value=!0;const te=s.id,{data:{data:O}}=await qt(localStorage.getItem("uuid")||"",te);if(window.localStorage.getItem("uniquecode-verification")!==O.uuid){const K={transaction_id:O.uuid,value:O.amount,currency:"RUB",coupon:((M=(w=O.meta)==null?void 0:w.public_promocode)==null?void 0:M.code)??"",item:{id:(T=O.product)==null?void 0:T.id,name:(E=O.product)==null?void 0:E.name,brand:"shop",coupon:((D=(S=O.meta)==null?void 0:S.public_promocode)==null?void 0:D.code)??"",price:O.amount,quantity:1}};Dt(K,"click")}if(p.value){const K=await $fetch(O.transaction.link,{method:"GET",server:!1,credentials:"include",headers:{authorization:`Bearer ${JSON.parse(ae("access_token")||"")}`,Accept:"application/json"}});delete n.value[s.id],o.emit();let J=document.createElement("a");document.body.appendChild(J),J.style="display: none",J.href=K.data.redirect_url,J.click(),document.body.removeChild(J),i.value=!1;return}i.value=!1,delete n.value[s.id],o.emit();let z=document.createElement("a");if(document.body.appendChild(z),z.style="display: none",z.href=O.transaction.link,z.click(),O.transaction.link.startsWith("token=")){const K="https://steam.kupikod.com/pay?"+O.transaction.link+`&uuid=${O.uuid}&url=${F(window.location.href)}`;y(K,!0),setTimeout(()=>{y(`${Lt}${O.uuid}`)},3e3)}else y(O.transaction.link);document.body.removeChild(z),i.value=!1}catch(F){console.error(F),i.value=!1}}return($,w)=>{const M=$a,T=ce,E=Ia,S=me;return x(),B("div",Sa,[b(T,{class:"coins-modal",modelValue:u(v),"onUpdate:modelValue":w[1]||(w[1]=D=>j(v)?v.value=D:null)},{default:G(()=>[b(M,{onCloseDialog:w[0]||(w[0]=D=>v.value=!1)})]),_:1},8,["modelValue"]),b(T,{class:"coins-modal",modelValue:u(d),"onUpdate:modelValue":w[3]||(w[3]=D=>j(d)?d.value=D:null)},{default:G(()=>[b(E,{price:u(c),onCloseDialog:w[2]||(w[2]=D=>d.value=!1),onConfirmTransaction:I},null,8,["price"])]),_:1},8,["modelValue"]),u(p)&&!u(k)?(x(),B("div",Ba,[U(" Не хватает "+R(u(m))+" ",1),b(S,{class:"w-4 h-4 ml-1"})])):L("",!0),b(X,{class:"btn-primary",loading:u(i),disabled:u(t).isPaymentDisabled,onClick:w[4]||(w[4]=D=>I(!1))},{default:G(()=>[u(p)&&!u(k)?(x(),B("p",Ma,"Пополнить")):(x(),B(ne,{key:1},[w[5]||(w[5]=U(" Купить за ")),u(p)?(x(),Z(S,{key:0,black:"",class:"w-[14px] h-[14px] ml-2 mr-[4.5px] -mt-[2px]"})):L("",!0),U(" "+R(u(c))+" ",1),u(p)?L("",!0):(x(),B("p",Ra,"₽")),u(f)&&!u(p)?(x(),B("span",Oa,R(u(f))+" ₽",1)):L("",!0)],64))]),_:1},8,["loading","disabled"]),u(p)&&!u(k)?(x(),B("a",Da,"Подробнее")):L("",!0)])}}}),Ta=Y(La,[["__scopeId","data-v-1e5743eb"]]),Aa={class:"product-card__main"},Ea=["src"],Ga={class:"flex flex-col product-card__info"},Na={class:"product-card__main-header"},Fa={key:0,class:"product-card__main-header-price"},Ha={key:0,class:"product-card__main-header-discount relative -bottom-[2px]"},Ua={key:1,class:"product-card__main-header-price-old"},za={key:2,class:"product-card__main-header-price-old"},Za={key:0,class:"product-card__bottom"},Wa={key:1,class:"text-[#FF3E60] font-medium text-[14px]"},ja={class:"price"},qa={key:0,class:"price__discount relative bottom-[2px]"},Ka={class:"price__gold inline-flex items-center"},Ja={class:"mt-[3px]"},Qa={class:"price__current"},Xa={key:1,class:"price__old-price"},Ya={key:1,class:"product-card__right"},en={class:"price"},tn={class:"flex flex-col"},an={class:"flex items-center"},nn={key:0,class:"price__discount"},on={class:"price__current font-bold text-[24px] leading-[24px] text-white"},sn={class:"price__by-card"},ln={key:0,class:"font-normal text-base line-through"},rn={key:1,class:"font-normal text-base line-through"},un={key:2,class:"font-[500] text-sm"},cn={class:"product-card__payment"},dn={class:"product-card__payment-count"},mn=ee({__name:"MainCard",props:{product:{},variant:{default:"modal"}},emits:["updateCount"],setup(e,{emit:l}){const s=l,n=At(),t=e,{cartProducts:a}=Q();function o(h){return+a.value[h.id].count}const i=C(()=>t.variant==="modal"),r=C(()=>i.value?t.product.price_in_gold:t.product.price_in_gold_discount),v=C(()=>{var h;return(h=t.product)!=null&&h.old_price&&t.product.price?100-+(t.product.price/(t.product.old_price||1)*100).toFixed(0):null}),d=C(()=>r.value?N(Math.round(r.value)*(i.value?o(t.product):1)):null),_=C(()=>d.value?d.value:N(Math.round(t.product.price)*o(t.product))),c=C(()=>t.product.old_price?N(Math.round(t.product.old_price)*o(t.product)):null),f=C(()=>t.variant==="modal"),k=C(()=>{var h;return(h=a.value[t.product.id])==null?void 0:h.promocode}),m=C({get(){var h;return+((h=a.value[t.product.id])==null?void 0:h.count)},set(h){if(h===0){delete a.value[t.product.id];return}s("updateCount"),a.value[t.product.id].count=h}}),p=C(()=>{const{external_data:{geo_restrict:h,region:P,platform:I,product_details:$}}=t.product,w=[];return h&&w.push({title:"Территория активации",value:P}),I&&w.push({title:"Платформа",value:I}),$&&w.push({title:$.title,value:$.value+($.currency?` ${$.currency}`:"")}),w}),y=C(()=>t.product.for_sale);pe("cartProduct",t.product);const V=()=>{n.push(t.product.slug)};return(h,P)=>{var w;const I=me,$=ma;return h.product?(x(),B("div",{key:0,class:W(["product-card flex",u(f)?"flex-col":"flex-row"])},[g("div",Aa,[g("img",{src:(w=h.product)==null?void 0:w.picture_url,class:"product-card__main-cover",onClick:V},null,8,Ea),g("div",Ga,[g("div",Na,[g("div",null,[g("p",{class:"product-card__main-header-title",onClick:V},R(h.product.external_data.h1_title),1),u(f)?L("",!0):(x(),B("div",Fa,[u(v)?(x(),B("span",Ha,"-"+R(u(v))+"%",1)):L("",!0),U(" "+R(u(_))+" ",1),b(I,{class:"w-4 h-4"}),u(c)?(x(),B("span",Ua,"/ "+R(u(c))+" ₽",1)):u(d)&&u(_)?(x(),B("span",za,"/ "+R(u(_))+" ₽",1)):L("",!0)])),(x(!0),B(ne,null,Zt(u(p),(M,T)=>(x(),B("div",{key:T,class:"product-card__main-header-row"},[g("span",null,R(M.title)+": ",1),g("span",null,R(M.value),1)]))),128)),u(f)?L("",!0):(x(),Z(be,{key:1,class:"product-card__desc"}))]),u(f)?(x(),Z(be,{key:0})):L("",!0)])])]),u(f)?(x(),B("div",Za,[u(y)?(x(),Z($,{key:0,modelValue:u(m),"onUpdate:modelValue":P[0]||(P[0]=M=>j(m)?m.value=M:null),small:"","delete-product":""},null,8,["modelValue"])):(x(),B("div",Wa,"Нет в наличии")),g("div",ja,[u(v)?(x(),B("span",qa,"-"+R(u(v))+"%",1)):L("",!0),g("span",Ka,[g("span",Ja,R(u(d)),1),b(I,{class:"w-[20px] h-[20px] inline-block ml-1"})]),P[3]||(P[3]=g("span",{class:"opacity-70 mx-1 font-medium"},"/",-1)),g("span",Qa,R(u(N)(u(_)))+" ₽ ",1),u(c)?(x(),B("span",Xa,R(u(N)(u(c)))+" ₽",1)):L("",!0)])])):(x(),B("div",Ya,[g("div",en,[g("div",tn,[g("div",an,[u(v)?(x(),B("span",nn,"-"+R(u(v))+"%",1)):L("",!0),g("span",on,R(u(N)(u(_))),1),b(I,{class:"w-6 h-6 ml-1"})]),g("span",sn,"Картой: "+R(u(N)(h.product.price_discount))+" ₽",1),u(c)&&h.product.old_price!==h.product.old_price_discount?(x(),B("span",ln,R(u(N)(h.product.old_price_discount))+" ₽",1)):u(c)?(x(),B("span",rn,R(u(N)(u(c)))+" ₽",1)):L("",!0),u(k)?(x(),B("span",un,"Промокод: "+R(u(k)),1)):L("",!0)])]),g("div",cn,[u(y)?(x(),B(ne,{key:0},[g("div",dn,[b(be,{class:"product-card__payment-action"}),b($,{min:1,modelValue:u(m),"onUpdate:modelValue":P[1]||(P[1]=M=>j(m)?m.value=M:null),classes:"product-card__payment-amount w-full",small:h.$windowWidth.value<=1280,medium:h.$windowWidth.value>1280},null,8,["modelValue","small","medium"])]),b(Pa,{product:h.product,class:"mt-3",modelValue:u(a)[t.product.id].payment,"onUpdate:modelValue":P[2]||(P[2]=M=>u(a)[t.product.id].payment=M)},null,8,["product","modelValue"]),b(Ta,{product:h.product,"payment-method":u(a)[t.product.id].payment,class:"mt-3"},null,8,["product","payment-method"])],64)):(x(),Z(X,{key:1,class:"btn__not-for-sale"},{default:G(()=>P[4]||(P[4]=[U("Нет в наличии")])),_:1}))])]))],2)):L("",!0)}}}),$n=Y(mn,[["__scopeId","data-v-5c750985"]]),In=(e,l)=>{isNaN(+e)&&(console.error(`count must be a number. ${e} (type ${typeof e}) is passed!`),e=1);const s=Math.abs(e)%100,n=s%10;return n===0?`${e} ${l[2]}`:n>=5&&n<=20?`${e} ${l[2]}`:s>=10?`${e} ${l[2]}`:n>1&&n<5?`${e} ${l[1]}`:n===1?`${e} ${l[0]}`:`${e} ${l[0]}`},Ce=Symbol("Forwarded refs");function we(e,l){let s=e;for(;s;){const n=Reflect.getOwnPropertyDescriptor(s,l);if(n)return n;s=Object.getPrototypeOf(s)}}function pn(e){for(var l=arguments.length,s=new Array(l>1?l-1:0),n=1;n<l;n++)s[n-1]=arguments[n];return e[Ce]=s,new Proxy(e,{get(t,a){if(Reflect.has(t,a))return Reflect.get(t,a);if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const o of s)if(o.value&&Reflect.has(o.value,a)){const i=Reflect.get(o.value,a);return typeof i=="function"?i.bind(o.value):i}}},has(t,a){if(Reflect.has(t,a))return!0;if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const o of s)if(o.value&&Reflect.has(o.value,a))return!0;return!1},set(t,a,o){if(Reflect.has(t,a))return Reflect.set(t,a,o);if(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))return!1;for(const i of s)if(i.value&&Reflect.has(i.value,a))return Reflect.set(i.value,a,o);return!1},getOwnPropertyDescriptor(t,a){var i;const o=Reflect.getOwnPropertyDescriptor(t,a);if(o)return o;if(!(typeof a=="symbol"||a.startsWith("$")||a.startsWith("__"))){for(const r of s){if(!r.value)continue;const v=we(r.value,a)??("_"in r.value?we((i=r.value._)==null?void 0:i.setupState,a):void 0);if(v)return v}for(const r of s){const v=r.value&&r.value[Ce];if(!v)continue;const d=v.slice();for(;d.length;){const _=d.shift(),c=we(_.value,a);if(c)return c;const f=_.value&&_.value[Ce];f&&d.push(...f)}}}}})}const nt=Symbol.for("vuetify:form"),fn=q({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function vn(e){const l=je(e,"modelValue"),s=C(()=>e.disabled),n=C(()=>e.readonly),t=Wt(!1),a=A([]),o=A([]);async function i(){const d=[];let _=!0;o.value=[],t.value=!0;for(const c of a.value){const f=await c.validate();if(f.length>0&&(_=!1,d.push({id:c.id,errorMessages:f})),!_&&e.fastFail)break}return o.value=d,t.value=!1,{valid:_,errors:o.value}}function r(){a.value.forEach(d=>d.reset())}function v(){a.value.forEach(d=>d.resetValidation())}return le(a,()=>{let d=0,_=0;const c=[];for(const f of a.value)f.isValid===!1?(_++,c.push({id:f.id,errorMessages:f.errorMessages})):f.isValid===!0&&d++;o.value=c,l.value=_>0?!1:d===a.value.length?!0:null},{deep:!0,flush:"post"}),pe(nt,{register:d=>{let{id:_,vm:c,validate:f,reset:k,resetValidation:m}=d;a.value.some(p=>p.id===_),a.value.push({id:_,validate:f,reset:k,resetValidation:m,vm:jt(c),isValid:null,errorMessages:[]})},unregister:d=>{a.value=a.value.filter(_=>_.id!==d)},update:(d,_,c)=>{const f=a.value.find(k=>k.id===d);f&&(f.isValid=_,f.errorMessages=c)},isDisabled:s,isReadonly:n,isValidating:t,isValid:l,items:a,validateOn:H(e,"validateOn")}),{errors:o,isDisabled:s,isReadonly:n,isValidating:t,isValid:l,items:a,validate:i,reset:r,resetValidation:v}}function Sn(){return re(nt,null)}const _n=q({...ue(),...fn()},"VForm"),Bn=oe()({name:"VForm",props:_n(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:s,emit:n}=l;const t=vn(e),a=A();function o(r){r.preventDefault(),t.reset()}function i(r){const v=r,d=t.validate();v.then=d.then.bind(d),v.catch=d.catch.bind(d),v.finally=d.finally.bind(d),n("submit",v),v.defaultPrevented||d.then(_=>{var f;let{valid:c}=_;c&&((f=a.value)==null||f.submit())}),v.preventDefault()}return se(()=>{var r;return b("form",{ref:a,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:o,onSubmit:i},[(r=s.default)==null?void 0:r.call(s,t)])}),pn(t,a)}});export{ie as B,X as V,Pn as _,$n as a,Cn as b,kn as c,xn as d,Bn as e,pn as f,wn as g,ma as h,Sn as i,In as n,Vn as s,ka as u};
